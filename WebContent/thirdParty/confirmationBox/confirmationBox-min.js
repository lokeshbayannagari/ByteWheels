!function(p){p.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFFFFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(e,o,t){null==o&&(o="Alert"),p.alerts._show(o,e,null,"alert",function(p){t&&t(p)})},confirm:function(e,o,t){null==o&&(o="Confirm"),p.alerts._show(o,e,null,"confirm",function(p){t&&t(p)})},_show:function(e,o,t,i,n){p.alerts._hide(),p.alerts._overlay("show"),p("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),p.alerts.dialogClass&&p("#popup_container").addClass(p.alerts.dialogClass);var a="fixed";switch(p("#popup_container").css({position:a,zIndex:99999,padding:0,margin:0}),p("#popup_title").text(e),p("#popup_content").addClass(i),p("#popup_message").text(o),p("#popup_message").html(p("#popup_message").text().replace(/\n/g,"<br />")),p("#popup_container").css({minWidth:p("#popup_container").outerWidth(),maxWidth:p("#popup_container").outerWidth()}),p.alerts._reposition(),p.alerts._maintainPosition(!0),i){case"alert":p("#popup_message").after('<div id="popup_panel"><input type="button" value="'+p.alerts.okButton+'" id="popup_ok" /></div>'),p("#popup_ok").click(function(){p.alerts._hide(),n(!0)}),p("#popup_ok").focus().keypress(function(e){(13==e.keyCode||27==e.keyCode)&&p("#popup_ok").trigger("click")});break;case"confirm":p("#popup_message").after('<div id="popup_panel" style="text-align:center;"><input type="button" value="'+p.alerts.okButton+'" id="popup_ok" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="'+p.alerts.cancelButton+'" id="popup_cancel" /></div>'),p("#popup_ok").click(function(){p.alerts._hide(),n&&n(!0)}),p("#popup_cancel").click(function(){p.alerts._hide(),n&&n(!1)}),p("#popup_ok").focus(),p("#popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&p("#popup_ok").trigger("click"),27==e.keyCode&&p("#popup_cancel").trigger("click")});break;case"prompt":p("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+p.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+p.alerts.cancelButton+'" id="popup_cancel" /></div>'),p("#popup_prompt").width(p("#popup_message").width()),p("#popup_ok").click(function(){var e=p("#popup_prompt").val();p.alerts._hide(),n&&n(e)}),p("#popup_cancel").click(function(){p.alerts._hide(),n&&n(null)}),p("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(e){13==e.keyCode&&p("#popup_ok").trigger("click"),27==e.keyCode&&p("#popup_cancel").trigger("click")}),t&&p("#popup_prompt").val(t),p("#popup_prompt").focus().select()}if(p.alerts.draggable)try{p("#popup_container").draggable({handle:p("#popup_title")}),p("#popup_title").css({cursor:"move"})}catch(r){}},_hide:function(){p("#popup_container").remove(),p.alerts._overlay("hide"),p.alerts._maintainPosition(!1)},_overlay:function(e){switch(e){case"show":p.alerts._overlay("hide"),p("BODY").append('<div id="popup_overlay"></div>'),p("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:p(document).height(),background:p.alerts.overlayColor,opacity:p.alerts.overlayOpacity});break;case"hide":p("#popup_overlay").remove()}},_reposition:function(){var e=p(window).height()/2-p("#popup_container").outerHeight()/2+p.alerts.verticalOffset,o=p(window).width()/2-p("#popup_container").outerWidth()/2+p.alerts.horizontalOffset;0>e&&(e=0),0>o&&(o=0),p("#popup_container").css({top:e+"px",left:o+"px"}),p("#popup_overlay").height(p(document).height())},_maintainPosition:function(e){if(p.alerts.repositionOnResize)switch(e){case!0:p(window).bind("resize",p.alerts._reposition);break;case!1:p(window).unbind("resize",p.alerts._reposition)}}},jConfirm=function(e,o,t){p.alerts.okButton="&nbsp;"+o+"&nbsp;",p.alerts.confirm(e,o,t)},jAlert=function(e,o,t){p.alerts.confirm(e,o,t)}}(jQuery);